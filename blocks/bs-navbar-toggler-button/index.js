(()=>{"use strict";const t=window.wp.blocks,a=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-navbar-toggler-button"}'),e=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.components,i=window.wp.element,o=window.ReactJSXRuntime;function r({label:t,value:a,onChange:n}){const r=a||{},[l,c]=(0,i.useState)([]);(0,i.useEffect)(()=>{const t=Object.entries(r).map(([t,a])=>({key:t,val:a}));c(t)},[a]);const u=(t,a,e)=>{const s=[...l];s[t][a]=e,c(s);const i=s.map(t=>t.key);if(!i.some((t,a)=>i.indexOf(t)!==a)){const t=s.reduce((t,a)=>(a.key&&(t[a.key]=a.val),t),{});n(t)}};return(0,o.jsxs)("div",{className:"components-base-control",children:[(0,o.jsx)("label",{className:"components-base-control__label",children:t}),l.map((t,a)=>(0,o.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,o.jsx)(s.TextControl,{placeholder:(0,e.__)("Key","rundizstrap-companion"),value:t.key,onChange:t=>u(a,"key",t)}),(0,o.jsx)(s.TextControl,{placeholder:(0,e.__)("Value","rundizstrap-companion"),value:t.val,onChange:t=>u(a,"val",t)}),(0,o.jsx)(s.Button,{isSmall:!0,isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(t=>{const a=l.filter((a,e)=>e!==t);c(a);const e=a.reduce((t,a)=>(a.key&&(t[a.key]=a.val),t),{});n(e)})(a),label:(0,e.__)("Remove","rundizstrap-companion")})]},a)),(0,o.jsx)(s.Button,{variant:"secondary",onClick:()=>{const t=[...l,{key:"",val:""}];c(t)},isSmall:!0,children:(0,e.__)("Add attribute","rundizstrap-companion")})]})}function l(t,a){const e={};return t&&Object.entries(t).forEach(([t,n])=>{t&&(e[`${a}${t}`]=n)}),e}(0,t.registerBlockType)(a.UU,{icon:{src:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})},edit:function({attributes:t,setAttributes:a}){const{dataAttributes:i,ariaAttributes:l,iconClassName:c,iconDataAttributes:u,iconAriaAttributes:d}=t,p=(0,n.useBlockProps)({className:"navbar-toggler",type:"button"}),b=t=>0===Object.keys(t||{}).length;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.InspectorControls,{children:[(0,o.jsxs)(s.__experimentalToolsPanel,{label:(0,e.__)("Button Settings","rundizstrap-companion"),resetAll:()=>a({dataAttributes:{},ariaAttributes:{}}),children:[(0,o.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!b(i),label:(0,e.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>a({dataAttributes:{}}),isShownByDefault:!0,children:(0,o.jsx)(r,{label:(0,e.__)("Data attributes","rundizstrap-companion")+" ",value:i,onChange:t=>a({dataAttributes:t})})}),(0,o.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!b(l),label:(0,e.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>a({ariaAttributes:{}}),isShownByDefault:!0,children:(0,o.jsx)(r,{label:(0,e.__)("Aria attributes","rundizstrap-companion")+" ",value:l,onChange:t=>a({ariaAttributes:t})})})]}),(0,o.jsxs)(s.__experimentalToolsPanel,{label:(0,e.__)("Icon Settings","rundizstrap-companion"),resetAll:()=>a({iconClassName:"",iconDataAttributes:{},iconAriaAttributes:{}}),children:[(0,o.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>""!==c,label:(0,e.__)("Icon Additional Class(es)","rundizstrap-companion"),onDeselect:()=>a({iconClassName:""}),isShownByDefault:!0,children:(0,o.jsx)(s.TextControl,{label:(0,e.__)("Icon Additional Class(es)","rundizstrap-companion"),value:c,onChange:t=>a({iconClassName:t}),help:(0,e.__)("Add additional classes to the icon span.","rundizstrap-companion")})}),(0,o.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!b(u),label:(0,e.__)("Icon data attributes","rundizstrap-companion"),onDeselect:()=>a({iconDataAttributes:{}}),isShownByDefault:!0,children:(0,o.jsx)(r,{label:(0,e.__)("Icon data attributes","rundizstrap-companion")+" ",value:u,onChange:t=>a({iconDataAttributes:t})})}),(0,o.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!b(d),label:(0,e.__)("Icon aria attributes","rundizstrap-companion"),onDeselect:()=>a({iconAriaAttributes:{}}),isShownByDefault:!0,children:(0,o.jsx)(r,{label:(0,e.__)("Icon aria attributes","rundizstrap-companion")+" ",value:d,onChange:t=>a({iconAriaAttributes:t})})})]})]}),(0,o.jsx)("button",{...p,children:(0,o.jsx)("span",{className:`navbar-toggler-icon ${c||""}`.trim()})})]})},save:function({attributes:t}){const{dataAttributes:a,ariaAttributes:e,iconClassName:s,iconDataAttributes:i,iconAriaAttributes:r}=t,c=n.useBlockProps.save({className:"navbar-toggler",type:"button"}),u=l(a,"data-"),d=l(e,"aria-");Object.assign(c,u,d);const p=l(i,"data-"),b=l(r,"aria-"),m={className:`navbar-toggler-icon ${s||""}`.trim(),...p,...b};return(0,o.jsx)("button",{...c,children:(0,o.jsx)("span",{...m})})}})})();