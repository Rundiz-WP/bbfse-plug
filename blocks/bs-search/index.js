(()=>{"use strict";const n=window.wp.blocks,e=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-search"}'),t=window.wp.i18n,o=window.wp.blockEditor,a=window.wp.element,l=window.wp.components,s=window.ReactJSXRuntime;(0,n.registerBlockType)(e.UU,{icon:{src:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16",children:(0,s.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})})},edit:function({attributes:n,setAttributes:e}){const{forNavbar:i,showLabel:r,label:c,buttonUseIcon:u,buttonPosition:p,buttonClass:d,buttonText:b,placeholderText:h}=n;(0,a.useEffect)(()=>{i&&r&&e({showLabel:!1}),n.buttonClass||e({buttonClass:"btn btn-primary"}),n.label||e({label:(0,t.__)("Search","rundizstrap-companion")}),n.buttonText||e({buttonText:(0,t.__)("Search","rundizstrap-companion")})},[n,d,b,i,r,e]);const x=(0,a.useRef)(),m=(0,a.useRef)(),_=[{label:(0,t.__)("Button outside","rundizstrap-companion"),value:"button-outside"},{label:(0,t.__)("Button group with input","rundizstrap-companion"),value:"button-group-input"},{label:(0,t.__)("No button","rundizstrap-companion"),value:"no-button"}],g=!1,j="button-outside",w="btn btn-primary",v=(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.InspectorControls,{children:(0,s.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("Settings","rundizstrap-companion"),resetAll:()=>{e({forNavbar:!1,showLabel:!1,buttonPosition:j,buttonUseIcon:g})},children:[(0,s.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>i,label:(0,t.__)("For navbar","rundizstrap-companion"),onDeselect:()=>{e({forNavbar:!1})},isShownByDefault:!0,children:(0,s.jsx)(l.ToggleControl,{checked:i,label:(0,t.__)("For navbar","rundizstrap-companion"),onChange:n=>e({forNavbar:n})})}),!i&&(0,s.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>r,label:(0,t.__)("Show label","rundizstrap-companion"),onDeselect:()=>{e({showLabel:!1})},isShownByDefault:!0,children:(0,s.jsx)(l.ToggleControl,{checked:r,label:(0,t.__)("Show label","rundizstrap-companion"),onChange:n=>e({showLabel:n})})}),(0,s.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>p!==j,label:(0,t.__)("Button position","rundizstrap-companion"),onDeselect:()=>{e({buttonPosition:j})},isShownByDefault:!0,children:(0,s.jsx)(l.SelectControl,{value:p,__next40pxDefaultSize:!0,label:(0,t.__)("Button position","rundizstrap-companion"),onChange:n=>{e({buttonPosition:n})},options:_})}),"no-button"!==p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!0,label:(0,t.__)("Button use icon","rundizstrap-companion"),onDeselect:()=>{e({buttonUseIcon:g})},isShownByDefault:!0,children:(0,s.jsx)(l.ToggleControl,{checked:u,label:(0,t.__)("Button use icon","rundizstrap-companion"),onChange:n=>e({buttonUseIcon:n})})}),(0,s.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>d!==w,label:(0,t.__)("Button classes","rundizstrap-companion"),onDeselect:()=>{e({buttonClass:w})},isShownByDefault:!0,children:(0,s.jsx)(l.TextControl,{label:(0,t.__)("Button classes","rundizstrap-companion"),value:d,onChange:n=>e({buttonClass:n})})})]})]})})}),z=()=>{let n="form-control";return!0===i&&"button-group-input"!==p&&"no-button"!==p&&(n+=" me-2"),(0,s.jsx)("input",{type:"search",className:n,"aria-label":(0,t.__)("Optional placeholder text","rundizstrap-companion"),placeholder:h?void 0:(0,t.__)("Optional placeholder…","rundizstrap-companion"),value:h,onChange:n=>e({placeholderText:n.target.value}),ref:x})},f=()=>{let n=w;d&&(n=d);const a=!0===u;let i=b;return a&&(i='<i class="bi bi-search"></i>'),a?(0,s.jsx)(l.Disabled,{children:(0,s.jsx)("button",{type:"button",className:n,"aria-label":(0,t.__)("Search","rundizstrap-companion"),children:(0,s.jsx)("i",{className:"bi bi-search","aria-hidden":"true"})})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.RichText,{identifier:"buttonText",className:n,"aria-label":(0,t.__)("Button text","rundizstrap-companion"),placeholder:(0,t.__)("Add button text…","rundizstrap-companion"),withoutInteractiveFormatting:!0,value:i,onChange:n=>e({buttonText:n}),ref:m})})},C=(0,o.useBlockProps)({className:i?"d-flex":void 0});return(0,s.jsxs)("div",{...C,children:[v,!i&&r&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{class:"row",children:(0,s.jsx)("div",{class:"col-12",children:(0,s.jsx)(o.RichText,{identifier:"label","aria-label":(0,t.__)("Label text","rundizstrap-companion"),placeholder:(0,t.__)("Add label…","rundizstrap-companion"),withoutInteractiveFormatting:!0,value:c,onChange:n=>e({label:n})})})})}),i?(0,s.jsx)(s.Fragment,{children:"button-group-input"===p?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{class:"input-group",children:[z(),f()]})}):(0,s.jsxs)(s.Fragment,{children:[z(),"no-button"!==p&&(0,s.jsx)(s.Fragment,{children:f()})]})}):(0,s.jsx)(s.Fragment,{children:"button-group-input"===p?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{class:"input-group",children:[z(),f()]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{class:"row g-3",children:[(0,s.jsx)("div",{className:"no-button"===p?"col-12":"col",children:z()}),"no-button"!==p&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{class:"col-auto",children:f()})})]})})})]})}})})();