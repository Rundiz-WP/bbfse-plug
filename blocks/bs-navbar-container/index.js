(()=>{"use strict";const a=window.wp.blocks,e=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-navbar-container"}'),t=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.components,i=window.wp.element,s=["data-","aria-"];function o(a,e){const t={};if(!a)return t;const n=String(e||"").toLowerCase();return s.includes(n)?(Object.entries(a).forEach(([a,e])=>{const r=l(a,n);r&&(t[`${n}${r}`]=c(e))}),t):t}function l(a,e=""){if(null==a)return"";let t=String(a).trim().toLowerCase();const n=String(e||"").toLowerCase();return t?(n&&t.startsWith(n)&&(t=t.slice(n.length)),t="aria-"===n||"aria"===n?t.replace(/[^a-z0-9_-]/g,""):t.replace(/[^a-z0-9._:-]/g,""),t):""}function c(a){return null==a?"":String(a).replace(/[\r\n\t]/g," ").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g,"").trim()}const u=window.ReactJSXRuntime;function p({label:a,value:e,onChange:n,prefix:s=""}){const o=e||{},[p,d]=(0,i.useState)([]);(0,i.useEffect)(()=>{const a=Object.entries(o).map(([a,e])=>({key:a,val:e}));d(a)},[e]);const m=a=>a.reduce((a,e)=>{const t=l(e.key,s);return t?(a[t]=c(e.val),a):a},{}),b=a=>{const e=a.map(a=>l(a.key,s)).filter(a=>""!==a);e.some((a,t)=>e.indexOf(a)!==t)||n(m(a))},_=(a,e,t)=>{const n=[...p];n[a][e]=t,d(n)};return(0,u.jsxs)("div",{className:"components-base-control",children:[(0,u.jsx)("label",{className:"components-base-control__label",children:a}),p.map((a,e)=>(0,u.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,u.jsx)(r.TextControl,{placeholder:(0,t.__)("Key","rundizstrap-companion"),value:a.key,onChange:a=>_(e,"key",a),onBlur:()=>b(p)}),(0,u.jsx)(r.TextControl,{placeholder:(0,t.__)("Value","rundizstrap-companion"),value:a.val,onChange:a=>_(e,"val",a),onBlur:()=>b(p)}),(0,u.jsx)(r.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(a=>{const e=p.filter((e,t)=>t!==a);d(e),n(m(e))})(e),label:(0,t.__)("Remove","rundizstrap-companion")})]},e)),(0,u.jsx)(r.Button,{variant:"secondary",onClick:()=>{const a=[...p,{key:"",val:""}];d(a)},size:"small",children:(0,t.__)("Add attribute","rundizstrap-companion")})]})}function d(a){if(null==a)return"";if("object"==typeof a)return"";let e=String(a);return e.includes("<")&&(e=e.replace(/<(?![a-zA-Z\/?!])|<(?!=[\w-]+(?:\s|$))/g,"&lt;"),e=e.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<\/?[^>]+>/g,""),e=e.replace(/<\n/g,"&lt;\n")),e=e.replace(/[\r\n\t ]+/g," ").trim(),/%[a-f0-9]{2}/i.test(e)&&(e=e.replace(/%[a-f0-9]{2}/gi,""),e=e.replace(/ +/g," ").trim()),e}const m=["div","header","main","nav","section","article","aside","footer"],b=new Set(m);function _(a,e){const t=String(a||"").trim().toLowerCase(),n=String(e||"").trim().toLowerCase();return b.has(t)?t:b.has(n)?n:"div"}const h="nav",g="div",x=m.map(a=>({label:"<"+a+">",value:a}));(0,a.registerBlockType)(e.UU,{icon:{src:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-square",viewBox:"0 0 16 16",children:(0,u.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"})})},edit:function({attributes:a,setAttributes:e}){const{tagName:i,dataAttributes:s,ariaAttributes:l,containerTagName:c,containerClassName:m,containerDataAttributes:b,containerAriaAttributes:C}=a,f=_(i,h),v=_(c,g),j=d(m),w=(0,n.useBlockProps)({className:"navbar",...o(s,"data-"),...o(l,"aria-")}),A=(0,n.useInnerBlocksProps)({className:j,...o(b,"data-"),...o(C,"aria-")}),z=a=>0===Object.keys(a||{}).length;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(n.InspectorControls,{children:[(0,u.jsxs)(r.__experimentalToolsPanel,{label:(0,t.__)("Navbar Settings","rundizstrap-companion"),resetAll:()=>e({tagName:h,dataAttributes:{},ariaAttributes:{}}),children:[(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>i!==h,label:(0,t.__)("Tag Name","rundizstrap-companion"),onDeselect:()=>e({tagName:h}),isShownByDefault:!0,children:(0,u.jsx)(r.SelectControl,{label:(0,t.__)("Tag Name","rundizstrap-companion"),value:f,options:x,onChange:a=>e({tagName:_(a,h)})})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!z(s),label:(0,t.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>e({dataAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(p,{label:(0,t.__)("Data attributes","rundizstrap-companion")+" ",value:s,onChange:a=>e({dataAttributes:a}),prefix:"data-"})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!z(l),label:(0,t.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>e({ariaAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(p,{label:(0,t.__)("Aria attributes","rundizstrap-companion")+" ",value:l,onChange:a=>e({ariaAttributes:a}),prefix:"aria-"})})]}),(0,u.jsxs)(r.__experimentalToolsPanel,{label:(0,t.__)("Container Settings","rundizstrap-companion"),resetAll:()=>e({containerTagName:g,containerClassName:"container-fluid",containerDataAttributes:{},containerAriaAttributes:{}}),children:[(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>c!==g,label:(0,t.__)("Container Tag Name","rundizstrap-companion"),onDeselect:()=>e({containerTagName:g}),isShownByDefault:!0,children:(0,u.jsx)(r.SelectControl,{label:(0,t.__)("Container Tag Name","rundizstrap-companion"),value:v,options:x,onChange:a=>e({containerTagName:_(a,g)})})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>"container-fluid"!==m,label:(0,t.__)("Container Class","rundizstrap-companion"),onDeselect:()=>e({containerClassName:"container-fluid"}),isShownByDefault:!0,children:(0,u.jsx)(r.TextControl,{label:(0,t.__)("Container Class","rundizstrap-companion"),value:m,onChange:a=>e({containerClassName:d(a)}),help:(0,t.__)("Default is container-fluid. You can change to container, container-lg, etc.","rundizstrap-companion")})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!z(b),label:(0,t.__)("Container data attributes","rundizstrap-companion"),onDeselect:()=>e({containerDataAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(p,{label:(0,t.__)("Container data attributes","rundizstrap-companion")+" ",value:b,onChange:a=>e({containerDataAttributes:a}),prefix:"data-"})}),(0,u.jsx)(r.__experimentalToolsPanelItem,{hasValue:()=>!z(C),label:(0,t.__)("Container aria attributes","rundizstrap-companion"),onDeselect:()=>e({containerAriaAttributes:{}}),isShownByDefault:!0,children:(0,u.jsx)(p,{label:(0,t.__)("Container aria attributes","rundizstrap-companion")+" ",value:C,onChange:a=>e({containerAriaAttributes:a}),prefix:"aria-"})})]})]}),(0,u.jsx)(f,{...w,children:(0,u.jsx)(v,{...A})})]})},save:function({attributes:a}){const{tagName:e,dataAttributes:t,ariaAttributes:r,containerTagName:i,containerClassName:s,containerDataAttributes:l,containerAriaAttributes:c}=a,p=_(e,"nav"),m=_(i,"div"),b=d(s),h=n.useBlockProps.save({className:"navbar"}),g=o(t,"data-"),x=o(r,"aria-");Object.assign(h,g,x);const C={className:b,...o(l,"data-"),...o(c,"aria-")};return(0,u.jsx)(p,{...h,children:(0,u.jsx)(m,{...C,children:(0,u.jsx)(n.InnerBlocks.Content,{})})})}})})();