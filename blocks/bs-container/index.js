(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-container"}'),a=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.components,o=window.wp.element,r=window.wp.data,i=window.ReactJSXRuntime;function l({label:e,value:t,onChange:n}){const r=t||{},[l,c]=(0,o.useState)([]);(0,o.useEffect)(()=>{const e=Object.entries(r).map(([e,t])=>({key:e,val:t}));c(e)},[t]);const d=(e,t,a)=>{const s=[...l];s[e][t]=a,c(s);const o=s.map(e=>e.key);if(!o.some((e,t)=>o.indexOf(e)!==t)){const e=s.reduce((e,t)=>(t.key&&(e[t.key]=t.val),e),{});n(e)}};return(0,i.jsxs)("div",{className:"components-base-control",children:[(0,i.jsx)("label",{className:"components-base-control__label",children:e}),l.map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,i.jsx)(s.TextControl,{placeholder:(0,a.__)("Key","rundizstrap-companion"),value:e.key,onChange:e=>d(t,"key",e)}),(0,i.jsx)(s.TextControl,{placeholder:(0,a.__)("Value","rundizstrap-companion"),value:e.val,onChange:e=>d(t,"val",e)}),(0,i.jsx)(s.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const t=l.filter((t,a)=>a!==e);c(t);const a=t.reduce((e,t)=>(t.key&&(e[t.key]=t.val),e),{});n(a)})(t),label:(0,a.__)("Remove","rundizstrap-companion")})]},t)),(0,i.jsx)(s.Button,{variant:"secondary",onClick:()=>{const e=[...l,{key:"",val:""}];c(e)},size:"small",children:(0,a.__)("Add attribute","rundizstrap-companion")})]})}function c({tagName:e,onSelectTagName:t}){return(0,i.jsx)(n.InspectorControls,{group:"advanced",children:(0,i.jsx)(s.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,a.__)("HTML element","rundizstrap-companion"),value:e,onChange:t,options:[{label:(0,a.__)("Default (<div>)","rundizstrap-companion"),value:"div"},{label:"<header>",value:"header"},{label:"<main>",value:"main"},{label:"<section>",value:"section"},{label:"<article>",value:"article"},{label:"<aside>",value:"aside"},{label:"<footer>",value:"footer"}]})})}function d(e,t){const a={};return e&&Object.entries(e).forEach(([e,n])=>{e&&(a[`${t}${e}`]=n)}),a}(0,e.registerBlockType)(t.UU,{icon:{src:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-square",viewBox:"0 0 16 16",children:(0,i.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"})})},edit:function({attributes:e,setAttributes:t,clientId:d}){const{tagName:u="div",className:p,dataAttributes:m,ariaAttributes:b}=e,{hasInnerBlocks:h}=(0,r.useSelect)(e=>{const{getBlock:t}=e(n.store),a=t(d);return{hasInnerBlocks:!(!a||!a.innerBlocks.length)}},[d]),v=(0,o.useRef)();(0,o.useEffect)(()=>{void 0===p&&t({className:"container"})},[p,t]);const x=p&&p.toLowerCase().includes("container"),_=e=>0===Object.keys(e||{}).length,g=(0,n.useBlockProps)({ref:v});let w;h||(w=n.InnerBlocks.ButtonBlockAppender);const j=(0,n.useInnerBlocksProps)(g,{dropZoneElement:v.current,renderAppender:w});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{tagName:u,onSelectTagName:e=>t({tagName:e})}),!x&&(0,i.jsx)(n.InspectorControls,{children:(0,i.jsx)("div",{style:{padding:"0 16px",marginBottom:"16px"},children:(0,i.jsx)(s.Notice,{status:"warning",isDismissible:!1,children:(0,a.__)('Please add a Bootstrap container class (e.g. "container", "container-fluid") in the "Additional CSS class(es)" field under Advanced settings.',"rundizstrap-companion")})})}),(0,i.jsx)(n.InspectorControls,{children:(0,i.jsxs)(s.__experimentalToolsPanel,{label:(0,a.__)("Data and Aria Attributes","rundizstrap-companion"),resetAll:()=>t({dataAttributes:{},ariaAttributes:{}}),children:[(0,i.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!_(m),label:(0,a.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>t({dataAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(l,{label:(0,a.__)("Data attributes","rundizstrap-companion")+" ",value:m,onChange:e=>t({dataAttributes:e})})}),(0,i.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!_(b),label:(0,a.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>t({ariaAttributes:{}}),isShownByDefault:!0,children:(0,i.jsx)(l,{label:(0,a.__)("Aria attributes","rundizstrap-companion")+" ",value:b,onChange:e=>t({ariaAttributes:e})})})]})}),(0,i.jsx)(u,{...j})]})},save:function({attributes:{tagName:e="div",dataAttributes:t,ariaAttributes:a}}){const s=n.useBlockProps.save({...d(t,"data-"),...d(a,"aria-")}),o=n.useInnerBlocksProps.save(s);return(0,i.jsx)(e,{...o})}})})();