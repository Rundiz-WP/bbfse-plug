(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-container"}'),n=window.wp.i18n,a=window.wp.blockEditor,s=window.wp.components,r=window.wp.element,o=window.wp.data,i=["data-","aria-"];function l(e,t){const n={};if(!e)return n;const a=String(t||"").toLowerCase();return i.includes(a)?(Object.entries(e).forEach(([e,t])=>{const s=c(e,a);s&&(n[`${a}${s}`]=u(t))}),n):n}function c(e,t=""){if(null==e)return"";let n=String(e).trim().toLowerCase();const a=String(t||"").toLowerCase();return n?(a&&n.startsWith(a)&&(n=n.slice(a.length)),n="aria-"===a||"aria"===a?n.replace(/[^a-z0-9_-]/g,""):n.replace(/[^a-z0-9._:-]/g,""),n):""}function u(e){return null==e?"":String(e).replace(/[\r\n\t]/g," ").replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F]/g,"").trim()}const d=window.ReactJSXRuntime;function p({label:e,value:t,onChange:a,prefix:o=""}){const i=t||{},[l,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=Object.entries(i).map(([e,t])=>({key:e,val:t}));p(e)},[t]);const m=e=>e.reduce((e,t)=>{const n=c(t.key,o);return n?(e[n]=u(t.val),e):e},{}),h=(e,t,n)=>{const s=[...l];s[e][t]=n,p(s);const r=s.map(e=>c(e.key,o)).filter(e=>""!==e);r.some((e,t)=>r.indexOf(e)!==t)||a(m(s))};return(0,d.jsxs)("div",{className:"components-base-control",children:[(0,d.jsx)("label",{className:"components-base-control__label",children:e}),l.map((e,t)=>(0,d.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,d.jsx)(s.TextControl,{placeholder:(0,n.__)("Key","rundizstrap-companion"),value:e.key,onChange:e=>h(t,"key",e)}),(0,d.jsx)(s.TextControl,{placeholder:(0,n.__)("Value","rundizstrap-companion"),value:e.val,onChange:e=>h(t,"val",e)}),(0,d.jsx)(s.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const t=l.filter((t,n)=>n!==e);p(t),a(m(t))})(t),label:(0,n.__)("Remove","rundizstrap-companion")})]},t)),(0,d.jsx)(s.Button,{variant:"secondary",onClick:()=>{const e=[...l,{key:"",val:""}];p(e)},size:"small",children:(0,n.__)("Add attribute","rundizstrap-companion")})]})}const m=["div","header","main","nav","section","article","aside","footer"],h=new Set(m);function b(e,t){const n=String(e||"").trim().toLowerCase(),a=String(t||"").trim().toLowerCase();return h.has(n)?n:h.has(a)?a:"div"}const g="div";function x({tagName:e,onSelectTagName:t}){const r=m.map(e=>({label:e===g?(0,n.__)("Default (<div>)","rundizstrap-companion"):"<"+e+">",value:e}));return(0,d.jsx)(a.InspectorControls,{group:"advanced",children:(0,d.jsx)(s.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,n.__)("HTML element","rundizstrap-companion"),value:e,onChange:t,options:r})})}(0,e.registerBlockType)(t.UU,{icon:{src:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-square",viewBox:"0 0 16 16",children:(0,d.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"})})},edit:function({attributes:e,setAttributes:t,clientId:i}){const{tagName:l,className:c,dataAttributes:u,ariaAttributes:m}=e,h=b(l,g),{hasInnerBlocks:v}=(0,o.useSelect)(e=>{const{getBlock:t}=e(a.store),n=t(i);return{hasInnerBlocks:!(!n||!n.innerBlocks.length)}},[i]),w=(0,r.useRef)();(0,r.useEffect)(()=>{void 0===c&&t({className:"container"})},[c,t]);const _=c&&c.toLowerCase().includes("container"),f=e=>0===Object.keys(e||{}).length,j=(0,a.useBlockProps)({ref:w});let k;v||(k=a.InnerBlocks.ButtonBlockAppender);const C=(0,a.useInnerBlocksProps)(j,{dropZoneElement:w.current,renderAppender:k});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x,{tagName:h,onSelectTagName:e=>t({tagName:b(e,g)})}),!_&&(0,d.jsx)(a.InspectorControls,{children:(0,d.jsx)("div",{style:{padding:"0 16px",marginBottom:"16px"},children:(0,d.jsx)(s.Notice,{status:"warning",isDismissible:!1,children:(0,n.__)('Please add a Bootstrap container class (e.g. "container", "container-fluid") in the "Additional CSS class(es)" field under Advanced settings.',"rundizstrap-companion")})})}),(0,d.jsx)(a.InspectorControls,{children:(0,d.jsxs)(s.__experimentalToolsPanel,{label:(0,n.__)("Data and Aria Attributes","rundizstrap-companion"),resetAll:()=>t({dataAttributes:{},ariaAttributes:{}}),children:[(0,d.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!f(u),label:(0,n.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>t({dataAttributes:{}}),isShownByDefault:!0,children:(0,d.jsx)(p,{label:(0,n.__)("Data attributes","rundizstrap-companion")+" ",value:u,onChange:e=>t({dataAttributes:e})})}),(0,d.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!f(m),label:(0,n.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>t({ariaAttributes:{}}),isShownByDefault:!0,children:(0,d.jsx)(p,{label:(0,n.__)("Aria attributes","rundizstrap-companion")+" ",value:m,onChange:e=>t({ariaAttributes:e})})})]})}),(0,d.jsx)(h,{...C})]})},save:function({attributes:e}){const{tagName:t,dataAttributes:n,ariaAttributes:s}=e,r=b(t,"div"),o=a.useBlockProps.save({...l(n,"data-"),...l(s,"aria-")}),i=a.useInnerBlocksProps.save(o);return(0,d.jsx)(r,{...i})}})})();