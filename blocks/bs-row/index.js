(()=>{"use strict";const e=window.wp.blocks,a=JSON.parse('{"UU":"rundizstrap-companion/blocks-bs-row"}'),t=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.components,o=window.wp.element,r=window.wp.data,l=window.ReactJSXRuntime;function i({label:e,value:a,onChange:n}){const r=a||{},[i,c]=(0,o.useState)([]);(0,o.useEffect)(()=>{const e=Object.entries(r).map(([e,a])=>({key:e,val:a}));c(e)},[a]);const u=(e,a,t)=>{const s=[...i];s[e][a]=t,c(s);const o=s.map(e=>e.key);if(!o.some((e,a)=>o.indexOf(e)!==a)){const e=s.reduce((e,a)=>(a.key&&(e[a.key]=a.val),e),{});n(e)}};return(0,l.jsxs)("div",{className:"components-base-control",children:[(0,l.jsx)("label",{className:"components-base-control__label",children:e}),i.map((e,a)=>(0,l.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,l.jsx)(s.TextControl,{placeholder:(0,t.__)("Key","rundizstrap-companion"),value:e.key,onChange:e=>u(a,"key",e)}),(0,l.jsx)(s.TextControl,{placeholder:(0,t.__)("Value","rundizstrap-companion"),value:e.val,onChange:e=>u(a,"val",e)}),(0,l.jsx)(s.Button,{isSmall:!0,isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const a=i.filter((a,t)=>t!==e);c(a);const t=a.reduce((e,a)=>(a.key&&(e[a.key]=a.val),e),{});n(t)})(a),label:(0,t.__)("Remove","rundizstrap-companion")})]},a)),(0,l.jsx)(s.Button,{variant:"secondary",onClick:()=>{const e=[...i,{key:"",val:""}];c(e)},isSmall:!0,children:(0,t.__)("Add attribute","rundizstrap-companion")})]})}function c({tagName:e,onSelectTagName:a}){return(0,l.jsx)(n.InspectorControls,{group:"advanced",children:(0,l.jsx)(s.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("HTML element","rundizstrap-companion"),value:e,onChange:a,options:[{label:(0,t.__)("Default (<div>)","rundizstrap-companion"),value:"div"},{label:"<header>",value:"header"},{label:"<main>",value:"main"},{label:"<section>",value:"section"},{label:"<article>",value:"article"},{label:"<aside>",value:"aside"},{label:"<footer>",value:"footer"}]})})}function u(e,a){const t={};return e&&Object.entries(e).forEach(([e,n])=>{e&&(t[`${a}${e}`]=n)}),t}(0,e.registerBlockType)(a.UU,{icon:{src:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-view-stacked",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M3 0h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m0 1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm0 8h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2m0 1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z"})})},edit:function({attributes:e,setAttributes:a,clientId:u}){const{tagName:d="div",dataAttributes:p,ariaAttributes:m}=e,{hasInnerBlocks:b}=(0,r.useSelect)(e=>{const{getBlock:a}=e(n.store),t=a(u);return{hasInnerBlocks:!(!t||!t.innerBlocks.length)}},[u]),v=(0,o.useRef)(),h=e=>0===Object.keys(e||{}).length,x=(0,n.useBlockProps)({ref:v,className:"row"});let w;b||(w=n.InnerBlocks.ButtonBlockAppender);const _=(0,n.useInnerBlocksProps)(x,{dropZoneElement:v.current,renderAppender:w});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c,{tagName:d,onSelectTagName:e=>a({tagName:e})}),(0,l.jsx)(n.InspectorControls,{children:(0,l.jsxs)(s.__experimentalToolsPanel,{label:(0,t.__)("Data and Aria Attributes","rundizstrap-companion"),resetAll:()=>a({dataAttributes:{},ariaAttributes:{}}),children:[(0,l.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!h(p),label:(0,t.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>a({dataAttributes:{}}),isShownByDefault:!0,children:(0,l.jsx)(i,{label:(0,t.__)("Data attributes","rundizstrap-companion")+" ",value:p,onChange:e=>a({dataAttributes:e})})}),(0,l.jsx)(s.__experimentalToolsPanelItem,{hasValue:()=>!h(m),label:(0,t.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>a({ariaAttributes:{}}),isShownByDefault:!0,children:(0,l.jsx)(i,{label:(0,t.__)("Aria attributes","rundizstrap-companion")+" ",value:m,onChange:e=>a({ariaAttributes:e})})})]})}),(0,l.jsx)(d,{..._})]})},save:function({attributes:{tagName:e="div",dataAttributes:a,ariaAttributes:t}}){const s=n.useBlockProps.save({className:"row",...u(a,"data-"),...u(t,"aria-")}),o=n.useInnerBlocksProps.save(s);return(0,l.jsx)(e,{...o})}})})();