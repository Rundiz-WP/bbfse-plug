(()=>{"use strict";const e=window.wp.blocks,a=JSON.parse('{"UU":"rundizstrap-companion/blocks-rundizstrap-companion-div"}'),t=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,s=window.wp.element,o=window.wp.data,r=window.ReactJSXRuntime;function i({label:e,value:a,onChange:n}){const o=a||{},[i,c]=(0,s.useState)([]);(0,s.useEffect)(()=>{const e=Object.entries(o).map(([e,a])=>({key:e,val:a}));c(e)},[a]);const u=(e,a,t)=>{const l=[...i];l[e][a]=t,c(l);const s=l.map(e=>e.key);if(!s.some((e,a)=>s.indexOf(e)!==a)){const e=l.reduce((e,a)=>(a.key&&(e[a.key]=a.val),e),{});n(e)}};return(0,r.jsxs)("div",{className:"components-base-control",children:[(0,r.jsx)("label",{className:"components-base-control__label",children:e}),i.map((e,a)=>(0,r.jsxs)("div",{style:{display:"flex",marginBottom:"5px",gap:"5px"},children:[(0,r.jsx)(l.TextControl,{placeholder:(0,t.__)("Key","rundizstrap-companion"),value:e.key,onChange:e=>u(a,"key",e)}),(0,r.jsx)(l.TextControl,{placeholder:(0,t.__)("Value","rundizstrap-companion"),value:e.val,onChange:e=>u(a,"val",e)}),(0,r.jsx)(l.Button,{size:"small",isDestructive:!0,variant:"secondary",icon:"trash",onClick:()=>(e=>{const a=i.filter((a,t)=>t!==e);c(a);const t=a.reduce((e,a)=>(a.key&&(e[a.key]=a.val),e),{});n(t)})(a),label:(0,t.__)("Remove","rundizstrap-companion")})]},a)),(0,r.jsx)(l.Button,{variant:"secondary",onClick:()=>{const e=[...i,{key:"",val:""}];c(e)},size:"small",children:(0,t.__)("Add attribute","rundizstrap-companion")})]})}function c(e,a){const t={};return e&&Object.entries(e).forEach(([e,n])=>{e&&(t[`${a}${e}`]=n)}),t}function u({tagName:e,onSelectTagName:a}){return(0,r.jsx)(n.InspectorControls,{group:"advanced",children:(0,r.jsx)(l.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("HTML element","rundizstrap-companion"),value:e,onChange:a,options:[{label:(0,t.__)("Default (<div>)","rundizstrap-companion"),value:"div"},{label:"<header>",value:"header"},{label:"<main>",value:"main"},{label:"<section>",value:"section"},{label:"<article>",value:"article"},{label:"<aside>",value:"aside"},{label:"<footer>",value:"footer"}]})})}(0,e.registerBlockType)(a.UU,{icon:{src:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-code-square",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,r.jsx)("path",{d:"M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0m2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0"})]})},edit:function({attributes:e,setAttributes:a,clientId:d}){const{tagName:p="div",accesskey:b,lang:m,role:x,tabindex:h,title:_,dataAttributes:v,ariaAttributes:g}=e,{hasInnerBlocks:j}=(0,o.useSelect)(e=>{const{getBlock:a}=e(n.store),t=a(d);return{hasInnerBlocks:!(!t||!t.innerBlocks.length)}},[d]),k=(0,s.useRef)(),w=e=>0===Object.keys(e||{}).length,y=(0,n.useBlockProps)({ref:k,...b?{accessKey:b}:{},...m?{lang:m}:{},...x?{role:x}:{},...Number.isInteger(h)?{tabIndex:h}:{},..._?{title:_}:{},...c(v,"data-"),...c(g,"aria-")});let T;j||(T=n.InnerBlocks.ButtonBlockAppender);const z=(0,n.useInnerBlocksProps)(y,{dropZoneElement:k.current,renderAppender:T});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{tagName:p,onSelectTagName:e=>a({tagName:e})}),(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("HTML Attributes","rundizstrap-companion"),resetAll:()=>a({accesskey:"",lang:"",role:"",tabindex:void 0,title:""}),children:[(0,r.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>""!==b,label:(0,t._x)("Accesskey","HTML attribute","rundizstrap-companion"),onDeselect:()=>a({accesskey:""}),isShownByDefault:!0,children:(0,r.jsx)(l.TextControl,{label:(0,t._x)("Accesskey","HTML attribute","rundizstrap-companion"),value:b,onChange:e=>a({accesskey:e})})}),(0,r.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>""!==m,label:(0,t._x)("Lang","HTML attribute","rundizstrap-companion"),onDeselect:()=>a({lang:""}),isShownByDefault:!0,children:(0,r.jsx)(l.TextControl,{label:(0,t._x)("Lang","HTML attribute","rundizstrap-companion"),value:m,onChange:e=>a({lang:e})})}),(0,r.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>""!==x,label:(0,t._x)("Role","HTML attribute","rundizstrap-companion"),onDeselect:()=>a({role:""}),isShownByDefault:!0,children:(0,r.jsx)(l.TextControl,{label:(0,t._x)("Role","HTML attribute","rundizstrap-companion"),value:x,onChange:e=>a({role:e})})}),(0,r.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>Number.isInteger(h),label:(0,t.__)("Tab index","rundizstrap-companion"),onDeselect:()=>a({tabindex:void 0}),isShownByDefault:!0,children:(0,r.jsx)(l.TextControl,{type:"number",label:(0,t.__)("Tab index","rundizstrap-companion"),value:Number.isInteger(h)?h:"",onChange:e=>{if(""===e)return void a({tabindex:void 0});const t=Number(e);Number.isInteger(t)&&a({tabindex:t})}})}),(0,r.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>""!==_,label:(0,t._x)("Title","HTML attribute","rundizstrap-companion"),onDeselect:()=>a({title:""}),isShownByDefault:!0,children:(0,r.jsx)(l.TextControl,{label:(0,t._x)("Title","HTML attribute","rundizstrap-companion"),value:_,onChange:e=>a({title:e})})})]})}),(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("Data and Aria Attributes","rundizstrap-companion"),resetAll:()=>a({dataAttributes:{},ariaAttributes:{}}),children:[(0,r.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!w(v),label:(0,t.__)("Data attributes","rundizstrap-companion"),onDeselect:()=>a({dataAttributes:{}}),isShownByDefault:!0,children:(0,r.jsx)(i,{label:(0,t.__)("Data attributes","rundizstrap-companion")+" ",value:v,onChange:e=>a({dataAttributes:e})})}),(0,r.jsx)(l.__experimentalToolsPanelItem,{hasValue:()=>!w(g),label:(0,t.__)("Aria attributes","rundizstrap-companion"),onDeselect:()=>a({ariaAttributes:{}}),isShownByDefault:!0,children:(0,r.jsx)(i,{label:(0,t.__)("Aria attributes","rundizstrap-companion")+" ",value:g,onChange:e=>a({ariaAttributes:e})})})]})}),(0,r.jsx)(p,{...z})]})},save:function({attributes:e}){const{tagName:a="div",accesskey:t,lang:l,role:s,tabindex:o,title:i,dataAttributes:u,ariaAttributes:d}=e,p=n.useBlockProps.save({...t?{accessKey:t}:{},...l?{lang:l}:{},...s?{role:s}:{},...Number.isInteger(o)?{tabIndex:o}:{},...i?{title:i}:{},...c(u,"data-"),...c(d,"aria-")}),b=n.useInnerBlocksProps.save(p);return(0,r.jsx)(a,{...b})}})})();